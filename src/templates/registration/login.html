{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans 'Login' %}{% endblock %}

{% block content_heading_title %}
<div class="row">
  <div class="col-12">
    <h1>{% trans 'Login' %}</h1>
  </div>
</div>
{% endblock %}

{% block content_main %}
<div class="row">
  <div class="col-sm-8">
    {% if next %}
    {% if user.is_authenticated %}
      <p>{% trans 'Your account doesn\'t have access to this page. To proceed, please login with an account that has access.'</p>
    {% else %}
      <p>{% trans 'Please login to see this page.' %}</p>
    {% endif %}
    {% endif %}
    {% if form.errors %}
      <p>{% trans 'Your username and password didn\'t match. Please try again.' %}</p>
    {% endif %}
    <form method="post" action="{% url 'login' %}">
      {% csrf_token %}
      <div class="form-group row">
        {{form.username.errors}}
        <label class="col-form-label col-sm-5 col-md-3" for="{{form.username.id_for_label}}">{{form.username.label}}</label>
        <input id="{{form.username.id_for_label}}" class="form-control col" name="{{form.username.name}}" type="text" value="{{form.username.value|default_if_none:''}}" />
      </div>
      <div class="form-group row">
        {{form.password.errors}}
        <label class="col-form-label col-sm-5 col-md-3" for="{{form.password.id_for_label}}">{{form.password.label}}</label>
        <input id="{{form.password.id_for_label}}" class="form-control col" name="{{form.password.name}}" type="password" value="{{form.password.value|default_if_none:''}}" />
      </div>
      <input class="btn btn-primary" type="submit" value="{% trans 'Log in' %}" />
      <a href="{% url 'wagtailadmin_password_reset' %}" class="ml-2">{% trans 'Lost password?' %}</a>
      <input type="hidden" name="next" value="{{ next }}" />
    </form>
  </div>
</div>
{% endblock %}
