{% extends "cms/base.html" %}
{% load i18n %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% block content %}
<div class="row mt-4">

  <div class="col-8">
    <h2 class="display-2">{{ page }}</h2>
    <p>{% trans 'Date of birth' %}: {{page.formatted_date_of_birth}}</p>
    <p>{% trans 'Date of death' %}: {{page.formatted_date_of_death}}</p>

    <p>{% trans 'Languages' %}: {% for lang in page.languages.all %}<span class="badge badge-pill badge-secondary mr-1">{{lang}}</span>{% endfor %}</p>
    <p>{% trans 'Categories' %}: {% for cat in page.literary_categories.all %}<span class="badge badge-pill badge-secondary mr-1">{{cat}}</span>{% endfor %}</p>
    <p>{% trans 'Literary periods' %}: {% for per in page.literary_periods.all %}<span class="badge badge-pill badge-secondary mr-1">{{per}}</span>{% endfor %}</p>
  </div>

  <div class="col-4">
    {% image page.title_image fill-350x350 as tmp_image %}
    <figure class="figure">
      <img src="{{ tmp_image.url }}" class="figure-img img-fluid rounded" alt="{{ tmp_image.alt }}">
      <figcaption class="figure-caption">{{ tmp_image.image.i18n_caption }}</figcaption>
    </figure>
  </div>

  {% for child_page in page.get_children.specific %}
    {% if request.is_preview %}
      {% include "cms/includes/level.html" with page=child_page.get_latest_revision_as_page %}
    {% else %}
      {% include "cms/includes/level.html" with page=child_page %}
    {% endif %}
  {% endfor %}

</div>
{% endblock %}
